angular.module("app",["ngRoute"]),angular.module("app").directive("moDateInput",["$window",function(e){return{require:"^ngModel",restrict:"A",link:function(o,t,a,n){var r=e.moment,l=a.moMediumDate;a.$observe("moDateInput",function(e){l!=e&&n.$modelValue&&(l=e,n.$modelValue=new Date(n.$setViewValue))}),n.$formatters.unshift(function(e){if(o=o,!l||!e)return"";var t=r(e).format(l);return t}),n.$parsers.unshift(function(e){o=o;var t=r(e,l);return t&&t.isValid()&&t.year()>1950?t.toDate():""})}}}]),angular.module("app").directive("moChangeProxy",["$parse",function(e){return console.log("Inside moChangeProxy"),{require:"^ngModel",restrict:"A",link:function(o,t,a,n){var r=a.moChangeProxy,l=a.ngModel;o.$watch(r,function(t){t!=n.$modelValue&&e(l).assign(o,t)}),t.bind("blur",function(){var t=o.$eval(r);n.$modelValue!=t&&o.$apply(function(){e(r).assign(o,n.$modelValue)})})}}}]),angular.module("app").controller("DogsCtrl",["$scope","DogsSvc",function(e,o){o.fetch().success(function(o){console.log("Total Number of dogs is: "+o.length),e.dogs=o})}]),angular.module("app").controller("CreateCtrl",["$window","$scope","DogCreationSvc",function(e,o,t){o.addDog=function(){console.log("Just adding a dog"),console.log("$scope.dogStartDate"+o.dogStartDate),o.dogName&&t.create({dogName:o.dogName,ownerFirstName:o.ownerFirstName,ownerLastName:o.ownerSurname,dogDOB:o.dogDOB,dogStartDate:o.dogStartDate,dogPicture:o.image}).success(function(o){e.location.href="/#/"})}}]),angular.module("app").controller("UploadCtrl",["$scope",function(e){e.image=""}]).directive("myUpload",[function(){return{restrict:"A",link:function(e,o,t){var a=new FileReader;a.onload=function(o){e.image=o.target.result,e.$apply()},o.on("change",function(){a.readAsDataURL(o[0].files[0])})}}}]),angular.module("app").controller("EditCtrl",["$window","$location","$scope","DogsGetOneSvc","DogsUpdateSvc",function(e,o,t,a,n){var r=!1,l=o.search();a.fetch(l.dogName).success(function(e){t.dog=e}),t.addNewWalk=function(){r=!0;var e=t.dog.walks.walkArray.length,o=new Date;t.dog.walks.walkArray.push({walkDate:o,walkTime:"60"}),console.log("adding a new walk, now have: "+(e+1))},t.removeWalk=function(e){r=!0,console.log("Going to remove walk from list at position: "+e),t.dog.walks.walkArray.splice(e,1)},t.hasUpdatedWalk=function(){return r},t.getRowColour=function(){return 1==r?{"background-color":"pink"}:{color:"blue"}},t.saveWalks=function(){console.log("Need to save the walks for dog: "+t.dog.dogName),n.update(t.dog).success(function(e){t.dog=e}).success(function(o){e.location.href="/#/"})}}]),angular.module("app").controller("DeleteCtrl",["$location","$scope","DogsDeleteSvc",function(e,o,t){var a=e.search();t["delete"](a.dogId).success(function(e){o.dog=e})}]),angular.module("app").service("DogsSvc",["$http",function(e){this.fetch=function(){return e.get("/api/dogs")}}]),angular.module("app").service("DogCreationSvc",["$http",function(e){this.create=function(o){return e.post("/api/dog",o)}}]),angular.module("app").service("DogsGetOneSvc",["$http",function(e){this.fetch=function(o){return console.log("Inside the angular service layer.  Have been asked to get dog: "+o),e({url:"/api/dog",method:"GET",params:{dogNameParam:o}})}}]),angular.module("app").service("DogsDeleteSvc",["$http",function(e){this["delete"]=function(o){return console.log("Inside the angular service layer.  Have been asked to delete dog: "+o),e({url:"/api/dog",method:"DELETE",params:{dogIdParam:o}})}}]),angular.module("app").service("DogsUpdateSvc",["$http",function(e){this.update=function(o){return console.log("Inside the angular service layer.  Have been asked to save dog: "+o.dogName),e({url:"/api/dog/"+o._id,method:"PUT",data:o})}}]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{controller:"DogsCtrl",templateUrl:"dogList.html"}).when("/createDog",{controller:"CreateCtrl",templateUrl:"dogCreation.html"}).when("/editDog",{controller:"EditCtrl",templateUrl:"dogEdit.html"}).when("/deleteDog",{controller:"DeleteCtrl",templateUrl:"dogList.html"}).when("/updateDog",{controller:"UpdateCtrl",templateUrl:"dogList.html"})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImRvZ3MuY3RybC5qcyIsImRvZ3Muc3ZjLmpzIiwicm91dGVzLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJkaXJlY3RpdmUiLCIkd2luZG93IiwicmVxdWlyZSIsInJlc3RyaWN0IiwibGluayIsInNjb3BlIiwiZWxtIiwiYXR0cnMiLCJjdHJsIiwibW9tZW50IiwiZGF0ZUZvcm1hdCIsIm1vTWVkaXVtRGF0ZSIsIiRvYnNlcnZlIiwibmV3VmFsdWUiLCIkbW9kZWxWYWx1ZSIsIkRhdGUiLCIkc2V0Vmlld1ZhbHVlIiwiJGZvcm1hdHRlcnMiLCJ1bnNoaWZ0IiwibW9kZWxWYWx1ZSIsInJldFZhbCIsImZvcm1hdCIsIiRwYXJzZXJzIiwidmlld1ZhbHVlIiwiZGF0ZSIsImlzVmFsaWQiLCJ5ZWFyIiwidG9EYXRlIiwiJHBhcnNlIiwiY29uc29sZSIsImxvZyIsInByb3h5RXhwIiwibW9DaGFuZ2VQcm94eSIsIm1vZGVsRXhwIiwibmdNb2RlbCIsIiR3YXRjaCIsIm5WYWwiLCJhc3NpZ24iLCJiaW5kIiwicHJveHlWYWwiLCIkZXZhbCIsIiRhcHBseSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJEb2dzU3ZjIiwiZmV0Y2giLCJzdWNjZXNzIiwiZG9ncyIsImxlbmd0aCIsIkRvZ0NyZWF0aW9uU3ZjIiwiYWRkRG9nIiwiZG9nU3RhcnREYXRlIiwiZG9nTmFtZSIsImNyZWF0ZSIsIm93bmVyRmlyc3ROYW1lIiwib3duZXJMYXN0TmFtZSIsIm93bmVyU3VybmFtZSIsImRvZ0RPQiIsImRvZ1BpY3R1cmUiLCJpbWFnZSIsImRvZyIsImxvY2F0aW9uIiwiaHJlZiIsImVsZW0iLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZSIsInRhcmdldCIsInJlc3VsdCIsIm9uIiwicmVhZEFzRGF0YVVSTCIsImZpbGVzIiwiJGxvY2F0aW9uIiwiRG9nc0dldE9uZVN2YyIsIkRvZ3NVcGRhdGVTdmMiLCJ3YWxrc0FyZUVkaXRlZCIsInNlYXJjaE9iamVjdCIsInNlYXJjaCIsImFkZE5ld1dhbGsiLCJjdXJyZW50V2Fsa0NvdW50Iiwid2Fsa3MiLCJ3YWxrQXJyYXkiLCJ0b2RheSIsInB1c2giLCJ3YWxrRGF0ZSIsIndhbGtUaW1lIiwicmVtb3ZlV2FsayIsImluZGV4Iiwic3BsaWNlIiwiaGFzVXBkYXRlZFdhbGsiLCJnZXRSb3dDb2xvdXIiLCJiYWNrZ3JvdW5kLWNvbG9yIiwiY29sb3IiLCJzYXZlV2Fsa3MiLCJ1cGRhdGUiLCJEb2dzRGVsZXRlU3ZjIiwiZG9nSWQiLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwiZ2V0IiwicG9zdCIsInVybCIsIm1ldGhvZCIsInBhcmFtcyIsImRvZ05hbWVQYXJhbSIsImRvZ0lkUGFyYW0iLCJfaWQiLCJkYXRhIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE9BQ0EsWUNRQUQsUUFBQUMsT0FBQSxPQUFBQyxVQUFBLGVBQUEsVUFBQSxTQUFBQyxHQUVBLE9BQ0FDLFFBQUEsV0FDQUMsU0FBQSxJQUNBQyxLQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBRUEsR0FBQUMsR0FBQVIsRUFBQVEsT0FDQUMsRUFBQUgsRUFBQUksWUFDQUosR0FBQUssU0FBQSxjQUFBLFNBQUFDLEdBQ0FILEdBQUFHLEdBQUFMLEVBQUFNLGNBQ0FKLEVBQUFHLEVBQ0FMLEVBQUFNLFlBQUEsR0FBQUMsTUFBQVAsRUFBQVEsa0JBR0FSLEVBQUFTLFlBQUFDLFFBQUEsU0FBQUMsR0FHQSxHQURBZCxFQUFBQSxHQUNBSyxJQUFBUyxFQUFBLE1BQUEsRUFDQSxJQUFBQyxHQUFBWCxFQUFBVSxHQUFBRSxPQUFBWCxFQUNBLE9BQUFVLEtBR0FaLEVBQUFjLFNBQUFKLFFBQUEsU0FBQUssR0FFQWxCLEVBQUFBLENBQ0EsSUFBQW1CLEdBQUFmLEVBQUFjLEVBQUFiLEVBQ0EsT0FBQWMsSUFBQUEsRUFBQUMsV0FBQUQsRUFB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QUEsT0FDQStHLFFBQUEsaUJBQUEsU0FBQUMsR0FDQUEsRUFDQUMsS0FBQSxLQUFBdEUsV0FBQSxXQUFBdUUsWUFBQSxpQkFDQUQsS0FBQSxjQUFBdEUsV0FBQSxhQUFBdUUsWUFBQSxxQkFDQUQsS0FBQSxZQUFBdEUsV0FBQSxXQUFBdUUsWUFBQSxpQkFDQUQsS0FBQSxjQUFBdEUsV0FBQSxhQUFBdUUsWUFBQSxpQkFDQUQsS0FBQSxjQUFBdEUsV0FBQSxhQUFBdUUsWUFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xuJ25nUm91dGUnXG5dKVxuXG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vL0FuZ3VsYXIgQ29udHJvbGxlciBmaWxlLiAgXG4vL0NhbGxlZCBieSB0aGUgSFRNTCBwYWdlIHRoYXQgY29udGFpbnMgQW5ndWxhciB0YWdzXG4vL0NhbGxzIHRvIGRvZ3Muc3ZjLmpzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLy9OZXh0IDIgXCJkaXJlY3RpdmVzXCIgYXJlIGFuIGF0dGVtcHQgdG8gZ2V0IGRhdGUgZm9ybWF0dGluZyB0byB3b3JrXG5cbmFuZ3VsYXIubW9kdWxlKCdhcHAnKS5kaXJlY3RpdmUoJ21vRGF0ZUlucHV0JywgZnVuY3Rpb24gKCR3aW5kb3cpIHtcblx0XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVxdWlyZTonXm5nTW9kZWwnLFxuICAgICAgICByZXN0cmljdDonQScsXG4gICAgICAgIGxpbms6ZnVuY3Rpb24gKHNjb3BlLCBlbG0sIGF0dHJzLCBjdHJsKSB7XG4gICAgICAgIFx0XG4gICAgICAgICAgICB2YXIgbW9tZW50ID0gJHdpbmRvdy5tb21lbnQ7XG4gICAgICAgICAgICB2YXIgZGF0ZUZvcm1hdCA9IGF0dHJzLm1vTWVkaXVtRGF0ZTtcbiAgICAgICAgICAgIGF0dHJzLiRvYnNlcnZlKCdtb0RhdGVJbnB1dCcsIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRlRm9ybWF0ID09IG5ld1ZhbHVlIHx8ICFjdHJsLiRtb2RlbFZhbHVlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgZGF0ZUZvcm1hdCA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIGN0cmwuJG1vZGVsVmFsdWUgPSBuZXcgRGF0ZShjdHJsLiRzZXRWaWV3VmFsdWUpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGN0cmwuJGZvcm1hdHRlcnMudW5zaGlmdChmdW5jdGlvbiAobW9kZWxWYWx1ZSkge1xuICAgICAgICAgICAgXHRcbiAgICAgICAgICAgICAgICBzY29wZSA9IHNjb3BlO1xuICAgICAgICAgICAgICAgIGlmICghZGF0ZUZvcm1hdCB8fCAhbW9kZWxWYWx1ZSkgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgdmFyIHJldFZhbCA9IG1vbWVudChtb2RlbFZhbHVlKS5mb3JtYXQoZGF0ZUZvcm1hdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldFZhbDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjdHJsLiRwYXJzZXJzLnVuc2hpZnQoZnVuY3Rpb24gKHZpZXdWYWx1ZSkge1xuICAgICAgICAgICAgXHQ7XG4gICAgICAgICAgICAgICAgc2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IG1vbWVudCh2aWV3VmFsdWUsIGRhdGVGb3JtYXQpO1xuICAgICAgICAgICAgICAgIHJldHVybiAoZGF0ZSAmJiBkYXRlLmlzVmFsaWQoKSAmJiBkYXRlLnllYXIoKSA+IDE5NTAgKSA/IGRhdGUudG9EYXRlKCkgOiBcIlwiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG5cblxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmRpcmVjdGl2ZSgnbW9DaGFuZ2VQcm94eScsIGZ1bmN0aW9uICgkcGFyc2UpIHtcblx0Y29uc29sZS5sb2coJ0luc2lkZSBtb0NoYW5nZVByb3h5Jyk7XG5cdFxuICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVpcmU6J15uZ01vZGVsJyxcbiAgICAgICAgcmVzdHJpY3Q6J0EnLFxuICAgICAgICBsaW5rOmZ1bmN0aW9uIChzY29wZSwgZWxtLCBhdHRycywgY3RybCkge1xuICAgICAgICAgICAgdmFyIHByb3h5RXhwID0gYXR0cnMubW9DaGFuZ2VQcm94eTtcbiAgICAgICAgICAgIHZhciBtb2RlbEV4cCA9IGF0dHJzLm5nTW9kZWw7XG4gICAgICAgICAgICBzY29wZS4kd2F0Y2gocHJveHlFeHAsIGZ1bmN0aW9uIChuVmFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5WYWwgIT0gY3RybC4kbW9kZWxWYWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgJHBhcnNlKG1vZGVsRXhwKS5hc3NpZ24oc2NvcGUsIG5WYWwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlbG0uYmluZCgnYmx1cicsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJveHlWYWwgPSBzY29wZS4kZXZhbChwcm94eUV4cCk7XG4gICAgICAgICAgICAgICAgaWYoY3RybC4kbW9kZWxWYWx1ZSAhPSBwcm94eVZhbCkge1xuICAgICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICRwYXJzZShwcm94eUV4cCkuYXNzaWduKHNjb3BlLCBjdHJsLiRtb2RlbFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG5cblxuLy9Mb2FkIHRoZSBkb2cgbGlzdCBvbnRvIHRoZSBzY3JlZW4gYWZ0ZXIgcHVsbGluZyBiYWNrIGZyb20gc2VydmljZS4gXG4vL0ltYWdlIGlzIHB1bGxlZCBiYWNrIHdpdGhpbiB0aGUgSlNPTiwgbm90aGluZyBzcGVjaWFsIGhhcyB0byBiZSBkb25lXG5hbmd1bGFyLm1vZHVsZSgnYXBwJykuY29udHJvbGxlcignRG9nc0N0cmwnLCBmdW5jdGlvbiAoJHNjb3BlLCBEb2dzU3ZjKSB7XG4gICBcblx0RG9nc1N2Yy5mZXRjaCgpLnN1Y2Nlc3MoZnVuY3Rpb24gKGRvZ3MpIHtcblx0XHRcblx0XHRjb25zb2xlLmxvZygnVG90YWwgTnVtYmVyIG9mIGRvZ3MgaXM6ICcgKyBkb2dzLmxlbmd0aCk7XG5cdFx0XHRcblx0XHQgICRzY29wZS5kb2dzID0gZG9nc1xuXHRcdH0pXG5cdCBcbn0pXG5cbiBcbi8vQWxsIGNyZWF0aW9uIG9mIGRvZ3MgZnJvbSBkYXRhIGVudHJ5IG9uIHRoZSBzY3JlZW5cbi8vVGhlIG5nLWNsaWNrIGNhbGxzIHRoZSBhZGREb2cgZnVuY3Rpb25cbi8vTm90ZSBJIGFkZGVkIHRoZSAkd2luZG93IHBhcmFtZXRlciB0byBhbGxvdyBmbGljayBiYWNrIHRvIGxpc3QgYWZ0ZXIgY3JlYXRpb25cblxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ0NyZWF0ZUN0cmwnLCBmdW5jdGlvbiAoJHdpbmRvdywgJHNjb3BlLCBEb2dDcmVhdGlvblN2Yykge1xuICAgXG5cdCRzY29wZS5hZGREb2cgPSBmdW5jdGlvbigpe1xuXHRcdFxuXHRcdGNvbnNvbGUubG9nKCdKdXN0IGFkZGluZyBhIGRvZycpO1xuXHRcdC8vY29uc29sZS5sb2coJyRzY29wZS5pbWFnZSA9ICcgKyAkc2NvcGUuaW1hZ2UpO1xuXHRcdGNvbnNvbGUubG9nKCckc2NvcGUuZG9nU3RhcnREYXRlJyArICRzY29wZS5kb2dTdGFydERhdGUpO1xuXHRcdC8vVGhlIGFib3ZlIGxpbmUgY29uZmlybXMgdGhhdCB0aGUgaW1hZ2UgcmVhZCBpbiB1cGxvYWQgaXMgYWxzbyB2aXNpYmxlIHdoZW4gYSBjb21lIHRvIFxuXHRcdC8vc3VibWl0IHRoZSBlbnRpcmUgZG9nIHBhZ2UuICA9PT4gTm93IG5lZWQgdG8gZ2V0IGltYWdlcyBhY3Jvc3MgdG8gdGhlIE5vZGUgc2VydmljZSBhbmQgdGhlbiBzYXZlZCBpbiBNb25nbyEhXG5cdFx0XG5cdFx0aWYoJHNjb3BlLmRvZ05hbWUpeyAgIC8vQ3JlYXRlIHRoZSBKU09OIG9iamVjdCB0byBzZW5kIHRvIHRoZSBzZXJ2aWNlIGNhbGxcblx0XHRcdERvZ0NyZWF0aW9uU3ZjLmNyZWF0ZSh7XG5cdFx0XHRcdGRvZ05hbWU6ICRzY29wZS5kb2dOYW1lLCBcblx0XHRcdFx0b3duZXJGaXJzdE5hbWU6ICRzY29wZS5vd25lckZpcnN0TmFtZSwgXG5cdFx0XHRcdG93bmVyTGFzdE5hbWU6ICRzY29wZS5vd25lclN1cm5hbWUsIFxuXHRcdFx0XHRkb2dET0I6JHNjb3BlLmRvZ0RPQixcblx0XHRcdFx0ZG9nU3RhcnREYXRlOiRzY29wZS5kb2dTdGFydERhdGUsXG5cdFx0XHRcdGRvZ1BpY3R1cmU6JHNjb3BlLmltYWdlXG5cdFx0XHR9KVxuXHRcdFx0LnN1Y2Nlc3MoZnVuY3Rpb24gKGRvZyl7XG5cdFx0XHRcdCR3aW5kb3cubG9jYXRpb24uaHJlZj0nLyMvJyAgXG5cdFx0XHRcdC8vSkwgYWRkZWQgdGhpcyBocmVmIHRvIHRha2UgdGhlIHVzZXIgYmFjayB0byBsaXN0IHBhZ2UuICBNYXkgYmUgYSBiZXR0ZXIgd2F5IG9mIGRvaW5nIHRoaXMuXG5cdFx0XHRcdC8vU29sdXRpb24gaXMgaGVyZTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNzk0MTg3Ni9ob3ctdG8tcmVkaXJlY3QtdG8tYW5vdGhlci1wYWdlLXVzaW5nLWFuZ3VsYXItanNcblx0XHRcdH0pXG5cdFx0fVxuXHR9XG59KVx0XG5cbi8vQWRkZWQgdGhpcyBjb250cm9sbGVyIHRvIGFsbG93IHVzZXIgdG8gcGljayBhIGZpbGUgZm9yIHRoZWlyIGRvZy5cbi8vQ29kZSB0YWtlbiBmcm9tIGhlcmU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTk5ODYxNzgvZGlzcGxheWluZy1hbi1pbWFnZS1hZnRlci11cGxvYWRpbmctaW4tYW5ndWxhci1qc1xuYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ1VwbG9hZEN0cmwnLCBbJyRzY29wZScsIGZ1bmN0aW9uICgkc2NvcGUpIHtcbiAgICAgICAgICAgICRzY29wZS5pbWFnZSA9IFwiXCI7XG4gICAgICAgIH1dKS5kaXJlY3RpdmUoJ215VXBsb2FkJywgW2Z1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcbiAgICAgICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoJHNjb3BlLCBlbGVtLCBhdHRycykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW1hZ2UgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvL09uIGNoYW5nZSBvZiAnc3RhdGUnLCByZWFkIGEgbmV3IGZpbGVcbiAgICAgICAgICAgICAgICAgICAgZWxlbS5vbignY2hhbmdlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChlbGVtWzBdLmZpbGVzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfV0pO1xuXG5cblxuLy9Db250cm9sbGVyIHRvIHRha2UgdGhlIHNlbGVjdGVkIGRvZyBhbmQgc2hvdyBhbiBlZGl0IHBhZ2UgZm9yIHRoYXQgZG9nXG5hbmd1bGFyLm1vZHVsZSgnYXBwJykuY29udHJvbGxlcignRWRpdEN0cmwnLCBmdW5jdGlvbiAoJHdpbmRvdywgJGxvY2F0aW9uLCAkc2NvcGUsIERvZ3NHZXRPbmVTdmMsIERvZ3NVcGRhdGVTdmMpIHtcbiBcblx0Ly9UTyBETyAtIGlzIHRoaXMgdmFyaWFibGUgdGhyZWFkIHNhZmU/Pz9cblx0dmFyIHdhbGtzQXJlRWRpdGVkID0gZmFsc2U7XG5cdFxuXHQvL0dldCB0aGUgZG9nIG5hbWUgZnJvbSB0aGUgcXVlcnkgc3RyaW5nIC0gVE9ETyAtIG1ha2UgdGhpcyB0aGUgZG9nIHVuaXF1ZSBJRCBJbiBmdXR1cmUuXG5cdHZhciBzZWFyY2hPYmplY3QgPSAkbG9jYXRpb24uc2VhcmNoKCk7XG5cdFxuXHQvL1NlYXJjaCBkYXRhYmFzZSBmb3IgZG9nIHdpdGggdGhpcyBuYW1lXG5cdC8vU2hvdyBkb2cgZGV0YWlscyBvbiB0aGUgc2NyZWVuXG5cdFxuXHREb2dzR2V0T25lU3ZjLmZldGNoKHNlYXJjaE9iamVjdC5kb2dOYW1lKS5zdWNjZXNzKGZ1bmN0aW9uIChkb2cpIHtcblx0XHQgICRzY29wZS5kb2cgPSBkb2dcblx0XHR9KVxuXHRcdFxuXHRcdFxuXHQvL0FkZCBhIG5ldyB3YWxrIGxpbmUgdG8gdGhlIHRhYmxlXG5cdCRzY29wZS5hZGROZXdXYWxrID0gZnVuY3Rpb24oKSB7XG5cdFx0XG5cdFx0d2Fsa3NBcmVFZGl0ZWQgPSB0cnVlO1xuXHRcdHZhciBjdXJyZW50V2Fsa0NvdW50ID0gJHNjb3BlLmRvZy53YWxrcy53YWxrQXJyYXkubGVuZ3RoO1xuXHRcdHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XG5cdFx0XG5cdFx0JHNjb3BlLmRvZy53YWxrcy53YWxrQXJyYXkucHVzaCh7J3dhbGtEYXRlJzp0b2RheSwgJ3dhbGtUaW1lJzogJzYwJ30pO1xuXG5cdCAgICBjb25zb2xlLmxvZygnYWRkaW5nIGEgbmV3IHdhbGssIG5vdyBoYXZlOiAnICsgKGN1cnJlbnRXYWxrQ291bnQrMSkpO1xuXG5cdCAgICBcblx0ICB9O1xuXHQgIFxuXHQvL1JlbW92ZSBhIHdhbGsgbGluZSBmcm9tIHRoZSB0YWJsZVxuXHQkc2NvcGUucmVtb3ZlV2FsayA9IGZ1bmN0aW9uKGluZGV4KSB7XG5cdFx0XG5cdFx0d2Fsa3NBcmVFZGl0ZWQgPSB0cnVlO1xuXHRcdFxuXHQgICAgY29uc29sZS5sb2coJ0dvaW5nIHRvIHJlbW92ZSB3YWxrIGZyb20gbGlzdCBhdCBwb3NpdGlvbjogJyArIGluZGV4KTtcblx0XHRcblx0XHQkc2NvcGUuZG9nLndhbGtzLndhbGtBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFxuXHQgIH07XG5cdCAgXG5cdCAgXG5cdC8vVE8gRE8gLSBuZWVkIGEgd2F5IHRvIGRldGVybWluZSBpZiBhbnkgb2YgdGhlIHdhbGsgc3RhdGUgaGFzIGNoYW5nZWQsIGFuZCByZXR1cm4gdHJ1ZSBvbmx5IGlmIGl0IGhhcy5cblx0Ly9JLmUuIGlmIHRoZSBkYXRlIGhhcyBiZWVuIGVkaXRlZCwgYnV0IG5vIG5ldyBvciByZW1vdmVkIHdhbGtzLCB0aGVuIHRoaXMgc2hvdWxkIHJldHVybiB0cnVlLlxuXHQkc2NvcGUuaGFzVXBkYXRlZFdhbGsgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgcmV0dXJuIHdhbGtzQXJlRWRpdGVkOyAgXG5cdCAgICB9O1xuXHQgICAgXG5cdCAgICBcblx0JHNjb3BlLmdldFJvd0NvbG91ciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICBpZih3YWxrc0FyZUVkaXRlZCA9PSB0cnVlKXtcblx0ICAgICAgICBcdCByZXR1cm4geydiYWNrZ3JvdW5kLWNvbG9yJzogXCJwaW5rXCJ9O1xuXHQgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIFx0IHJldHVybiB7Y29sb3I6IFwiYmx1ZVwifTtcblx0ICAgICAgICAgfVxuXHQgICAgfTtcblx0ICAgIFxuXHQgICAgXG5cdCRzY29wZS5zYXZlV2Fsa3MgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgXG5cdFx0XHRjb25zb2xlLmxvZygnTmVlZCB0byBzYXZlIHRoZSB3YWxrcyBmb3IgZG9nOiAnICsgJHNjb3BlLmRvZy5kb2dOYW1lKTtcblx0XHRcdFxuXHRcdFx0RG9nc1VwZGF0ZVN2Yy51cGRhdGUoJHNjb3BlLmRvZykuc3VjY2VzcyhmdW5jdGlvbiAoZG9nKSB7XG5cdFx0XHRcdCAgJHNjb3BlLmRvZyA9IGRvZ1xuXHRcdFx0XHR9KS5zdWNjZXNzKGZ1bmN0aW9uIChkb2cpe1xuXHRcdFx0XHRcdC8vQWdhaW4sIHRoZSB0cmljayB0byByZWRpcmVjdCBmcm9tIGEgYnV0dG9uIGNsaWNrLCBiYWNrIHRvIHRoZSBsaXN0IHBhZ2UuICBBbHNvXG5cdFx0XHRcdFx0Ly9OZWVkZWQgdG8gYWRkIHRoZSAkd2luZG93IHBhcmFtZXRlciB0byB0aGUgY29udHJvbGxlciBmdW5jdGlvbiBhYm92ZVxuXHRcdFx0XHRcdC8vVE9ETyAtIG1ha2UgaXQgcmVsb2FkIHRoZSBzYW1lIGVkaXQgcGFnZSB3aXRoIHRoZSB1cGRhdGVkIGRldGFpbHMsIGRvbid0IHdhbnQgdG8gbmF2aWdhdGUgYXdheVxuXHRcdFx0XHRcdCR3aW5kb3cubG9jYXRpb24uaHJlZj0nLyMvJyBcblx0XHRcdFx0fSlcblx0ICAgIH07ICBcbn0pXG4gXG4vL0NvbnRyb2xsZXIgdG8gZGVsZXRlIHRoZSBzZWxlY3RlZCBkb2cgZnJvbSB0aGUgZGF0YWJhc2VcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdEZWxldGVDdHJsJywgZnVuY3Rpb24gKCRsb2NhdGlvbiwgJHNjb3BlLCBEb2dzRGVsZXRlU3ZjKSB7XG4gXG5cdC8vR2V0IHRoZSBkb2cgSUQgZnJvbSB0aGUgcXVlcnkgc3RyaW5nXG5cdHZhciBzZWFyY2hPYmplY3QgPSAkbG9jYXRpb24uc2VhcmNoKCk7XG5cdFxuXHQvL1JlbW92ZSB0aGUgZG9nIGZyb20gdGhlIGRhdGFiYXNlXG5cdERvZ3NEZWxldGVTdmMuZGVsZXRlKHNlYXJjaE9iamVjdC5kb2dJZCkuc3VjY2VzcyhmdW5jdGlvbiAoZG9nKSB7XG5cdFx0ICAkc2NvcGUuZG9nID0gZG9nXG5cdFx0fSlcblx0XG59KVxuXG5cbiIsIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vQW5ndWxhciBTZXJ2aWNlcyBmaWxlLiAgXG4vL0NhbGxlZCBieSBkb2cuY3RybC5qcyBmaWxlXG4vL0NhbGxzIHRvIEhUVFAgc2VydmljZSBpbiBkb2dzLmpzIChJLkUgYSBSRVNURnVsIEhUVFAgY2FsbCB0byBOb2RlKVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vL0dldCB0aGUgbGlzdCBvZiBkb2dzIHRvIHNob3cgb24gdGhlIHNjcmVlblxuXG5hbmd1bGFyLm1vZHVsZSgnYXBwJykuc2VydmljZSgnRG9nc1N2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xuICB0aGlzLmZldGNoID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvZG9ncycpXG4gIH1cbn0pXG5cblxuXG4vL1NhdmUgYSBuZXcgZG9nIHRvIHRoZSBIVFRQIHBvc3Qgc2VydmljZVxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpLnNlcnZpY2UoJ0RvZ0NyZWF0aW9uU3ZjJywgZnVuY3Rpb24gKCRodHRwKSB7XG5cdFxuICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChkb2cpIHtcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9kb2cnLCBkb2cpXG4gICAgfSBcbn0pXG5cblxuLy9HZXQgYSBzaW5nbGUgZG9nIGZyb20gdGhlIHN0b3JlIGJ5IG5hbWVcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKS5zZXJ2aWNlKCdEb2dzR2V0T25lU3ZjJywgZnVuY3Rpb24gKCRodHRwKSB7XG4gIHRoaXMuZmV0Y2ggPSBmdW5jdGlvbiAoZG9nTmFtZSkge1xuXHQgIFxuXHRjb25zb2xlLmxvZygnSW5zaWRlIHRoZSBhbmd1bGFyIHNlcnZpY2UgbGF5ZXIuICBIYXZlIGJlZW4gYXNrZWQgdG8gZ2V0IGRvZzogJyArIGRvZ05hbWUpOyBcblx0IFxuXHRyZXR1cm4gJGh0dHAoe1xuXHRcdHVybDogJy9hcGkvZG9nJywgXG5cdFx0bWV0aG9kOiBcIkdFVFwiLFxuXHRcdHBhcmFtczp7ZG9nTmFtZVBhcmFtOmRvZ05hbWV9XG5cdH0pXG4gIH1cbn0pXG5cblxuLy9EZWxldGUgYSBzaW5nbGUgZG9nIGZyb20gdGhlIHN0b3JlIGJ5IElEXG5hbmd1bGFyLm1vZHVsZSgnYXBwJykuc2VydmljZSgnRG9nc0RlbGV0ZVN2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xuIFxuXHR0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uIChkb2dJZCkge1xuXHQgIFxuXHRjb25zb2xlLmxvZygnSW5zaWRlIHRoZSBhbmd1bGFyIHNlcnZpY2UgbGF5ZXIuICBIYXZlIGJlZW4gYXNrZWQgdG8gZGVsZXRlIGRvZzogJyArIGRvZ0lkKTsgXG5cdCBcblx0cmV0dXJuICRodHRwKHtcblx0XHR1cmw6ICcvYXBpL2RvZycsIFxuXHRcdG1ldGhvZDogXCJERUxFVEVcIixcblx0XHRwYXJhbXM6e2RvZ0lkUGFyYW06ZG9nSWR9XG5cdH0pXG5cdFxuICB9XG59KVxuXG5cbi8vVXBkYXRlIGEgZG9nIGFscmVhZHkgaW4gdGhlIGRhdGFiYXNlXG5hbmd1bGFyLm1vZHVsZSgnYXBwJykuc2VydmljZSgnRG9nc1VwZGF0ZVN2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xuIFxuXHRcbiAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoZG9nKSB7XG5cdCAgXG5cdFx0Y29uc29sZS5sb2coJ0luc2lkZSB0aGUgYW5ndWxhciBzZXJ2aWNlIGxheWVyLiAgSGF2ZSBiZWVuIGFza2VkIHRvIHNhdmUgZG9nOiAnICsgZG9nLmRvZ05hbWUpOyBcblx0XHQgXG5cdFx0Ly9UcmljayBoZXJlIHdhcyB0byBwYXNzIHRoZSBkb2cgYWNyb3NzIHVzaW5nIHRoZSBcImRhdGFcIiB0YWdcblx0XHRyZXR1cm4gJGh0dHAoe1xuXHRcdFx0dXJsOiAnL2FwaS9kb2cvJytkb2cuX2lkLCBcblx0XHRcdG1ldGhvZDogXCJQVVRcIixcblx0XHRcdGRhdGE6ZG9nXG5cdFx0fSlcblx0ICB9XG5cdCBcblxufSkiLCIvLy8vLy8vLy8vLy8vL1xuLy8gRGV0ZXJtaW5lcyB3aGljaCBIVE1MIHRvIGxvYWQgZGVwZW5kaW5nIG9uIHdoaWNoIG5hdmlnYXRpb24gbGluayB0aGUgdXNlciBoYXMgY2xpY2tlZFxuLy8gTGlua3MgdGhlIEhUTUwgcGFnZSB0byB0aGUgQW5ndWxhciBjb250cm9sbGVyXG5cblxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29uZmlnKGZ1bmN0aW9uICgkcm91dGVQcm92aWRlcikge1xuICAkcm91dGVQcm92aWRlclxuICAud2hlbignLycsIHsgY29udHJvbGxlcjogJ0RvZ3NDdHJsJywgdGVtcGxhdGVVcmw6ICdkb2dMaXN0Lmh0bWwnIH0pXG4gIC53aGVuKCcvY3JlYXRlRG9nJywgeyBjb250cm9sbGVyOiAnQ3JlYXRlQ3RybCcsIHRlbXBsYXRlVXJsOiAnZG9nQ3JlYXRpb24uaHRtbCcgfSlcbiAgLndoZW4oJy9lZGl0RG9nJywgeyBjb250cm9sbGVyOiAnRWRpdEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2RvZ0VkaXQuaHRtbCd9KVxuICAgLndoZW4oJy9kZWxldGVEb2cnLCB7IGNvbnRyb2xsZXI6ICdEZWxldGVDdHJsJywgdGVtcGxhdGVVcmw6ICdkb2dMaXN0Lmh0bWwnfSlcbiAgIC53aGVuKCcvdXBkYXRlRG9nJywgeyBjb250cm9sbGVyOiAnVXBkYXRlQ3RybCcsIHRlbXBsYXRlVXJsOiAnZG9nTGlzdC5odG1sJ30pXG59KVxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=