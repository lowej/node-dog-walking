angular.module("app",["ngRoute"]),angular.module("app").directive("moDateInput",["$window",function(e){return{require:"^ngModel",restrict:"A",link:function(o,t,a,n){var r=e.moment,l=a.moMediumDate;a.$observe("moDateInput",function(e){l!=e&&n.$modelValue&&(l=e,n.$modelValue=new Date(n.$setViewValue))}),n.$formatters.unshift(function(e){if(o=o,!l||!e)return"";var t=r(e).format(l);return t}),n.$parsers.unshift(function(e){o=o;var t=r(e,l);return t&&t.isValid()&&t.year()>1950?t.toDate():""})}}}]),angular.module("app").directive("moChangeProxy",["$parse",function(e){return console.log("Inside moChangeProxy"),{require:"^ngModel",restrict:"A",link:function(o,t,a,n){var r=a.moChangeProxy,l=a.ngModel;o.$watch(r,function(t){t!=n.$modelValue&&e(l).assign(o,t)}),t.bind("blur",function(){var t=o.$eval(r);n.$modelValue!=t&&o.$apply(function(){e(r).assign(o,n.$modelValue)})})}}}]),angular.module("app").controller("DogsCtrl",["$scope","DogsSvc",function(e,o){o.fetch().success(function(o){console.log("Total Number of dogs is: "+o.length),e.dogs=o})}]),angular.module("app").controller("CreateCtrl",["$window","$scope","DogCreationSvc",function(e,o,t){o.addDog=function(){console.log("Just adding a dog"),console.log("$scope.dogStartDate"+o.dogStartDate),o.dogName&&t.create({dogName:o.dogName,ownerFirstName:o.ownerFirstName,ownerLastName:o.ownerSurname,dogDOB:o.dogDOB,dogStartDate:o.dogStartDate,dogPicture:o.image}).success(function(o){e.location.href="/#/"})}}]),angular.module("app").controller("UploadCtrl",["$scope",function(e){e.image=""}]).directive("myUpload",[function(){return{restrict:"A",link:function(e,o,t){var a=new FileReader;a.onload=function(o){e.image=o.target.result,e.$apply()},o.on("change",function(){a.readAsDataURL(o[0].files[0])})}}}]),angular.module("app").controller("EditCtrl",["$window","$location","$scope","DogsGetOneSvc","DogsUpdateSvc",function(e,o,t,a,n){var r=!1,l=o.search();a.fetch(l.dogName).success(function(e){t.dog=e}),t.addNewWalk=function(){r=!0;var e=t.dog.walks.walkArray.length,o=new Date;t.dog.walks.walkArray.push({walkDate:o,walkTime:"60"}),console.log("adding a new walk, now have: "+(e+1))},t.removeWalk=function(e){r=!0,console.log("Going to remove walk from list at position: "+e),t.dog.walks.walkArray.splice(e,1)},t.hasUpdatedWalk=function(){return r},t.getRowColour=function(){return 1==r?{"background-color":"pink"}:{color:"blue"}},t.saveWalks=function(){console.log("Need to save the walks for dog: "+t.dog.dogName),n.update(t.dog).success(function(e){t.dog=e}).success(function(o){e.location.href="/#/"})}}]),angular.module("app").controller("DeleteCtrl",["$location","$scope","DogsDeleteSvc",function(e,o,t){var a=e.search();t["delete"](a.dogId).success(function(e){o.dog=e})}]),angular.module("app").service("DogsSvc",["$http",function(e){this.fetch=function(){return e.get("/api/dogs")}}]),angular.module("app").service("DogCreationSvc",["$http",function(e){this.create=function(o){return e.post("/api/dog",o)}}]),angular.module("app").service("DogsGetOneSvc",["$http",function(e){this.fetch=function(o){return console.log("Inside the angular service layer.  Have been asked to get dog: "+o),e({url:"/api/dog",method:"GET",params:{dogNameParam:o}})}}]),angular.module("app").service("DogsDeleteSvc",["$http",function(e){this["delete"]=function(o){return console.log("Inside the angular service layer.  Have been asked to delete dog: "+o),e({url:"/api/dog",method:"DELETE",params:{dogIdParam:o}})}}]),angular.module("app").service("DogsUpdateSvc",["$http",function(e){this.update=function(o){return console.log("Inside the angular service layer.  Have been asked to save dog: "+o.dogName),e({url:"/api/dog/"+o._id,method:"PUT",data:o})}}]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{controller:"DogsCtrl",templateUrl:"dogList.html"}).when("/createDog",{controller:"CreateCtrl",templateUrl:"dogCreation.html"}).when("/editDog",{controller:"EditCtrl",templateUrl:"dogEdit.html"}).when("/deleteDog",{controller:"DeleteCtrl",templateUrl:"dogList.html"}).when("/updateDog",{controller:"UpdateCtrl",templateUrl:"dogList.html"})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImRvZ3MuY3RybC5qcyIsImRvZ3Muc3ZjLmpzIiwicm91dGVzLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJkaXJlY3RpdmUiLCIkd2luZG93IiwicmVxdWlyZSIsInJlc3RyaWN0IiwibGluayIsInNjb3BlIiwiZWxtIiwiYXR0cnMiLCJjdHJsIiwibW9tZW50IiwiZGF0ZUZvcm1hdCIsIm1vTWVkaXVtRGF0ZSIsIiRvYnNlcnZlIiwibmV3VmFsdWUiLCIkbW9kZWxWYWx1ZSIsIkRhdGUiLCIkc2V0Vmlld1ZhbHVlIiwiJGZvcm1hdHRlcnMiLCJ1bnNoaWZ0IiwibW9kZWxWYWx1ZSIsInJldFZhbCIsImZvcm1hdCIsIiRwYXJzZXJzIiwidmlld1ZhbHVlIiwiZGF0ZSIsImlzVmFsaWQiLCJ5ZWFyIiwidG9EYXRlIiwiJHBhcnNlIiwiY29uc29sZSIsImxvZyIsInByb3h5RXhwIiwibW9DaGFuZ2VQcm94eSIsIm1vZGVsRXhwIiwibmdNb2RlbCIsIiR3YXRjaCIsIm5WYWwiLCJhc3NpZ24iLCJiaW5kIiwicHJveHlWYWwiLCIkZXZhbCIsIiRhcHBseSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJEb2dzU3ZjIiwiZmV0Y2giLCJzdWNjZXNzIiwiZG9ncyIsImxlbmd0aCIsIkRvZ0NyZWF0aW9uU3ZjIiwiYWRkRG9nIiwiZG9nU3RhcnREYXRlIiwiZG9nTmFtZSIsImNyZWF0ZSIsIm93bmVyRmlyc3ROYW1lIiwib3duZXJMYXN0TmFtZSIsIm93bmVyU3VybmFtZSIsImRvZ0RPQiIsImRvZ1BpY3R1cmUiLCJpbWFnZSIsImRvZyIsImxvY2F0aW9uIiwiaHJlZiIsImVsZW0iLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZSIsInRhcmdldCIsInJlc3VsdCIsIm9uIiwicmVhZEFzRGF0YVVSTCIsImZpbGVzIiwiJGxvY2F0aW9uIiwiRG9nc0dldE9uZVN2YyIsIkRvZ3NVcGRhdGVTdmMiLCJ3YWxrc0FyZUVkaXRlZCIsInNlYXJjaE9iamVjdCIsInNlYXJjaCIsImFkZE5ld1dhbGsiLCJjdXJyZW50V2Fsa0NvdW50Iiwid2Fsa3MiLCJ3YWxrQXJyYXkiLCJ0b2RheSIsInB1c2giLCJ3YWxrRGF0ZSIsIndhbGtUaW1lIiwicmVtb3ZlV2FsayIsImluZGV4Iiwic3BsaWNlIiwiaGFzVXBkYXRlZFdhbGsiLCJnZXRSb3dDb2xvdXIiLCJiYWNrZ3JvdW5kLWNvbG9yIiwiY29sb3IiLCJzYXZlV2Fsa3MiLCJ1cGRhdGUiLCJEb2dzRGVsZXRlU3ZjIiwiZG9nSWQiLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwiZ2V0IiwicG9zdCIsInVybCIsIm1ldGhvZCIsInBhcmFtcyIsImRvZ05hbWVQYXJhbSIsImRvZ0lkUGFyYW0iLCJfaWQiLCJkYXRhIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFBQyxPQUFBLE9BQ0EsWUNRQUQsUUFBQUMsT0FBQSxPQUFBQyxVQUFBLGVBQUEsVUFBQSxTQUFBQyxHQUVBLE9BQ0FDLFFBQUEsV0FDQUMsU0FBQSxJQUNBQyxLQUFBLFNBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBRUEsR0FBQUMsR0FBQVIsRUFBQVEsT0FDQUMsRUFBQUgsRUFBQUksWUFDQUosR0FBQUssU0FBQSxjQUFBLFNBQUFDLEdBQ0FILEdBQUFHLEdBQUFMLEVBQUFNLGNBQ0FKLEVBQUFHLEVBQ0FMLEVBQUFNLFlBQUEsR0FBQUMsTUFBQVAsRUFBQVEsa0JBR0FSLEVBQUFTLFlBQUFDLFFBQUEsU0FBQUMsR0FHQSxHQURBZCxFQUFBQSxHQUNBSyxJQUFBUyxFQUFBLE1BQUEsRUFDQSxJQUFBQyxHQUFBWCxFQUFBVSxHQUFBRSxPQUFBWCxFQUNBLE9BQUFVLEtBR0FaLEVBQUFjLFNBQUFKLFFBQUEsU0FBQUssR0FFQWxCLEVBQUFBLENBQ0EsSUFBQW1CLEdBQUFmLEVBQUFjLEVBQUFiLEVBQ0EsT0FBQWMsSUFBQUEsRUFBQUMsV0FBQUQsRUFB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QUEsT0FDQStHLFFBQUEsaUJBQUEsU0FBQUMsR0FDQUEsRUFDQUMsS0FBQSxLQUFBdEUsV0FBQSxXQUFBdUUsWUFBQSxpQkFDQUQsS0FBQSxjQUFBdEUsV0FBQSxhQUFBdUUsWUFBQSxxQkFDQUQsS0FBQSxZQUFBdEUsV0FBQSxXQUFBdUUsWUFBQSxpQkFDQUQsS0FBQSxjQUFBdEUsV0FBQSxhQUFBdUUsWUFBQSxpQkFDQUQsS0FBQSxjQUFBdEUsV0FBQSxhQUFBdUUsWUFBQSIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xuJ25nUm91dGUnXG5dKVxuXG4iLCIvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vL0FuZ3VsYXIgQ29udHJvbGxlciBmaWxlLiAgXG4vL0NhbGxlZCBieSB0aGUgSFRNTCBwYWdlIHRoYXQgY29udGFpbnMgQW5ndWxhciB0YWdzXG4vL0NhbGxzIHRvIGRvZ3Muc3ZjLmpzXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5cblxuLy9OZXh0IDIgXCJkaXJlY3RpdmVzXCIgYXJlIGFuIGF0dGVtcHQgdG8gZ2V0IGRhdGUgZm9ybWF0dGluZyB0byB3b3JrXG4vL1RoaXMgd2FzIHRha2VuIGZyb20gaHR0cDovL3BsbmtyLmNvL2VkaXQvTnplYXVJRFZIbGdlYjZxRjc1aFg/cD1wcmV2aWV3XG5hbmd1bGFyLm1vZHVsZSgnYXBwJykuZGlyZWN0aXZlKCdtb0RhdGVJbnB1dCcsIGZ1bmN0aW9uICgkd2luZG93KSB7XG5cdFxuICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVpcmU6J15uZ01vZGVsJyxcbiAgICAgICAgcmVzdHJpY3Q6J0EnLFxuICAgICAgICBsaW5rOmZ1bmN0aW9uIChzY29wZSwgZWxtLCBhdHRycywgY3RybCkge1xuICAgICAgICBcdFxuICAgICAgICAgICAgdmFyIG1vbWVudCA9ICR3aW5kb3cubW9tZW50O1xuICAgICAgICAgICAgdmFyIGRhdGVGb3JtYXQgPSBhdHRycy5tb01lZGl1bURhdGU7XG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnbW9EYXRlSW5wdXQnLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZUZvcm1hdCA9PSBuZXdWYWx1ZSB8fCAhY3RybC4kbW9kZWxWYWx1ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGRhdGVGb3JtYXQgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICBjdHJsLiRtb2RlbFZhbHVlID0gbmV3IERhdGUoY3RybC4kc2V0Vmlld1ZhbHVlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjdHJsLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24gKG1vZGVsVmFsdWUpIHtcbiAgICAgICAgICAgIFx0XG4gICAgICAgICAgICAgICAgc2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGVGb3JtYXQgfHwgIW1vZGVsVmFsdWUpIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgIHZhciByZXRWYWwgPSBtb21lbnQobW9kZWxWYWx1ZSkuZm9ybWF0KGRhdGVGb3JtYXQpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXRWYWw7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY3RybC4kcGFyc2Vycy51bnNoaWZ0KGZ1bmN0aW9uICh2aWV3VmFsdWUpIHtcbiAgICAgICAgICAgIFx0O1xuICAgICAgICAgICAgICAgIHNjb3BlID0gc2NvcGU7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBtb21lbnQodmlld1ZhbHVlLCBkYXRlRm9ybWF0KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGRhdGUgJiYgZGF0ZS5pc1ZhbGlkKCkgJiYgZGF0ZS55ZWFyKCkgPiAxOTUwICkgPyBkYXRlLnRvRGF0ZSgpIDogXCJcIjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuXG5cbmFuZ3VsYXIubW9kdWxlKCdhcHAnKS5kaXJlY3RpdmUoJ21vQ2hhbmdlUHJveHknLCBmdW5jdGlvbiAoJHBhcnNlKSB7XG5cdGNvbnNvbGUubG9nKCdJbnNpZGUgbW9DaGFuZ2VQcm94eScpO1xuXHRcbiAgICByZXR1cm4ge1xuICAgICAgICByZXF1aXJlOidebmdNb2RlbCcsXG4gICAgICAgIHJlc3RyaWN0OidBJyxcbiAgICAgICAgbGluazpmdW5jdGlvbiAoc2NvcGUsIGVsbSwgYXR0cnMsIGN0cmwpIHtcbiAgICAgICAgICAgIHZhciBwcm94eUV4cCA9IGF0dHJzLm1vQ2hhbmdlUHJveHk7XG4gICAgICAgICAgICB2YXIgbW9kZWxFeHAgPSBhdHRycy5uZ01vZGVsO1xuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKHByb3h5RXhwLCBmdW5jdGlvbiAoblZhbCkge1xuICAgICAgICAgICAgICAgIGlmIChuVmFsICE9IGN0cmwuJG1vZGVsVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgICRwYXJzZShtb2RlbEV4cCkuYXNzaWduKHNjb3BlLCBuVmFsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZWxtLmJpbmQoJ2JsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByb3h5VmFsID0gc2NvcGUuJGV2YWwocHJveHlFeHApO1xuICAgICAgICAgICAgICAgIGlmKGN0cmwuJG1vZGVsVmFsdWUgIT0gcHJveHlWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAkcGFyc2UocHJveHlFeHApLmFzc2lnbihzY29wZSwgY3RybC4kbW9kZWxWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuXG5cbi8vTG9hZCB0aGUgZG9nIGxpc3Qgb250byB0aGUgc2NyZWVuIGFmdGVyIHB1bGxpbmcgYmFjayBmcm9tIHNlcnZpY2UuIFxuLy9JbWFnZSBpcyBwdWxsZWQgYmFjayB3aXRoaW4gdGhlIEpTT04sIG5vdGhpbmcgc3BlY2lhbCBoYXMgdG8gYmUgZG9uZVxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ0RvZ3NDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgRG9nc1N2Yykge1xuICAgXG5cdERvZ3NTdmMuZmV0Y2goKS5zdWNjZXNzKGZ1bmN0aW9uIChkb2dzKSB7XG5cdFx0XG5cdFx0Y29uc29sZS5sb2coJ1RvdGFsIE51bWJlciBvZiBkb2dzIGlzOiAnICsgZG9ncy5sZW5ndGgpO1xuXHRcdFx0XG5cdFx0ICAkc2NvcGUuZG9ncyA9IGRvZ3Ncblx0XHR9KVxuXHQgXG59KVxuXG4gXG4vL0FsbCBjcmVhdGlvbiBvZiBkb2dzIGZyb20gZGF0YSBlbnRyeSBvbiB0aGUgc2NyZWVuXG4vL1RoZSBuZy1jbGljayBjYWxscyB0aGUgYWRkRG9nIGZ1bmN0aW9uXG4vL05vdGUgSSBhZGRlZCB0aGUgJHdpbmRvdyBwYXJhbWV0ZXIgdG8gYWxsb3cgZmxpY2sgYmFjayB0byBsaXN0IGFmdGVyIGNyZWF0aW9uXG5cbmFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdDcmVhdGVDdHJsJywgZnVuY3Rpb24gKCR3aW5kb3csICRzY29wZSwgRG9nQ3JlYXRpb25TdmMpIHtcbiAgIFxuXHQkc2NvcGUuYWRkRG9nID0gZnVuY3Rpb24oKXtcblx0XHRcblx0XHRjb25zb2xlLmxvZygnSnVzdCBhZGRpbmcgYSBkb2cnKTtcblx0XHQvL2NvbnNvbGUubG9nKCckc2NvcGUuaW1hZ2UgPSAnICsgJHNjb3BlLmltYWdlKTtcblx0XHRjb25zb2xlLmxvZygnJHNjb3BlLmRvZ1N0YXJ0RGF0ZScgKyAkc2NvcGUuZG9nU3RhcnREYXRlKTtcblx0XHQvL1RoZSBhYm92ZSBsaW5lIGNvbmZpcm1zIHRoYXQgdGhlIGltYWdlIHJlYWQgaW4gdXBsb2FkIGlzIGFsc28gdmlzaWJsZSB3aGVuIGEgY29tZSB0byBcblx0XHQvL3N1Ym1pdCB0aGUgZW50aXJlIGRvZyBwYWdlLiAgPT0+IE5vdyBuZWVkIHRvIGdldCBpbWFnZXMgYWNyb3NzIHRvIHRoZSBOb2RlIHNlcnZpY2UgYW5kIHRoZW4gc2F2ZWQgaW4gTW9uZ28hIVxuXHRcdFxuXHRcdGlmKCRzY29wZS5kb2dOYW1lKXsgICAvL0NyZWF0ZSB0aGUgSlNPTiBvYmplY3QgdG8gc2VuZCB0byB0aGUgc2VydmljZSBjYWxsXG5cdFx0XHREb2dDcmVhdGlvblN2Yy5jcmVhdGUoe1xuXHRcdFx0XHRkb2dOYW1lOiAkc2NvcGUuZG9nTmFtZSwgXG5cdFx0XHRcdG93bmVyRmlyc3ROYW1lOiAkc2NvcGUub3duZXJGaXJzdE5hbWUsIFxuXHRcdFx0XHRvd25lckxhc3ROYW1lOiAkc2NvcGUub3duZXJTdXJuYW1lLCBcblx0XHRcdFx0ZG9nRE9COiRzY29wZS5kb2dET0IsXG5cdFx0XHRcdGRvZ1N0YXJ0RGF0ZTokc2NvcGUuZG9nU3RhcnREYXRlLFxuXHRcdFx0XHRkb2dQaWN0dXJlOiRzY29wZS5pbWFnZVxuXHRcdFx0fSlcblx0XHRcdC5zdWNjZXNzKGZ1bmN0aW9uIChkb2cpe1xuXHRcdFx0XHQkd2luZG93LmxvY2F0aW9uLmhyZWY9Jy8jLycgIFxuXHRcdFx0XHQvL0pMIGFkZGVkIHRoaXMgaHJlZiB0byB0YWtlIHRoZSB1c2VyIGJhY2sgdG8gbGlzdCBwYWdlLiAgTWF5IGJlIGEgYmV0dGVyIHdheSBvZiBkb2luZyB0aGlzLlxuXHRcdFx0XHQvL1NvbHV0aW9uIGlzIGhlcmU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjc5NDE4NzYvaG93LXRvLXJlZGlyZWN0LXRvLWFub3RoZXItcGFnZS11c2luZy1hbmd1bGFyLWpzXG5cdFx0XHR9KVxuXHRcdH1cblx0fVxufSlcdFxuXG4vL0FkZGVkIHRoaXMgY29udHJvbGxlciB0byBhbGxvdyB1c2VyIHRvIHBpY2sgYSBmaWxlIGZvciB0aGVpciBkb2cuXG4vL0NvZGUgdGFrZW4gZnJvbSBoZXJlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE5OTg2MTc4L2Rpc3BsYXlpbmctYW4taW1hZ2UtYWZ0ZXItdXBsb2FkaW5nLWluLWFuZ3VsYXItanNcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdVcGxvYWRDdHJsJywgWyckc2NvcGUnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICAgICAgICAgICAkc2NvcGUuaW1hZ2UgPSBcIlwiO1xuICAgICAgICB9XSkuZGlyZWN0aXZlKCdteVVwbG9hZCcsIFtmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKCRzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmltYWdlID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy9PbiBjaGFuZ2Ugb2YgJ3N0YXRlJywgcmVhZCBhIG5ldyBmaWxlXG4gICAgICAgICAgICAgICAgICAgIGVsZW0ub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZWxlbVswXS5maWxlc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1dKTtcblxuXG5cbi8vQ29udHJvbGxlciB0byB0YWtlIHRoZSBzZWxlY3RlZCBkb2cgYW5kIHNob3cgYW4gZWRpdCBwYWdlIGZvciB0aGF0IGRvZ1xuYW5ndWxhci5tb2R1bGUoJ2FwcCcpLmNvbnRyb2xsZXIoJ0VkaXRDdHJsJywgZnVuY3Rpb24gKCR3aW5kb3csICRsb2NhdGlvbiwgJHNjb3BlLCBEb2dzR2V0T25lU3ZjLCBEb2dzVXBkYXRlU3ZjKSB7XG4gXG5cdC8vVE8gRE8gLSBpcyB0aGlzIHZhcmlhYmxlIHRocmVhZCBzYWZlPz8/XG5cdHZhciB3YWxrc0FyZUVkaXRlZCA9IGZhbHNlO1xuXHRcblx0Ly9HZXQgdGhlIGRvZyBuYW1lIGZyb20gdGhlIHF1ZXJ5IHN0cmluZyAtIFRPRE8gLSBtYWtlIHRoaXMgdGhlIGRvZyB1bmlxdWUgSUQgSW4gZnV0dXJlLlxuXHR2YXIgc2VhcmNoT2JqZWN0ID0gJGxvY2F0aW9uLnNlYXJjaCgpO1xuXHRcblx0Ly9TZWFyY2ggZGF0YWJhc2UgZm9yIGRvZyB3aXRoIHRoaXMgbmFtZVxuXHQvL1Nob3cgZG9nIGRldGFpbHMgb24gdGhlIHNjcmVlblxuXHRcblx0RG9nc0dldE9uZVN2Yy5mZXRjaChzZWFyY2hPYmplY3QuZG9nTmFtZSkuc3VjY2VzcyhmdW5jdGlvbiAoZG9nKSB7XG5cdFx0ICAkc2NvcGUuZG9nID0gZG9nXG5cdFx0fSlcblx0XHRcblx0XHRcblx0Ly9BZGQgYSBuZXcgd2FsayBsaW5lIHRvIHRoZSB0YWJsZVxuXHQkc2NvcGUuYWRkTmV3V2FsayA9IGZ1bmN0aW9uKCkge1xuXHRcdFxuXHRcdC8vU2V0IGVkaXQgZmxhZyBzbyB0aGF0IHNjcmVlbiBjYW4gY2hhbmdlIGhpZ2hsaWdodCBzdGF0dXNcblx0XHR3YWxrc0FyZUVkaXRlZCA9IHRydWU7XG5cdFx0XG5cdFx0dmFyIGN1cnJlbnRXYWxrQ291bnQgPSAkc2NvcGUuZG9nLndhbGtzLndhbGtBcnJheS5sZW5ndGg7XG5cdFx0dmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcblx0XHRcblx0XHQkc2NvcGUuZG9nLndhbGtzLndhbGtBcnJheS5wdXNoKHsnd2Fsa0RhdGUnOnRvZGF5LCAnd2Fsa1RpbWUnOiAnNjAnfSk7XG5cblx0ICAgIGNvbnNvbGUubG9nKCdhZGRpbmcgYSBuZXcgd2Fsaywgbm93IGhhdmU6ICcgKyAoY3VycmVudFdhbGtDb3VudCsxKSk7XG5cblx0ICAgIFxuXHQgIH07XG5cdCAgXG5cdC8vUmVtb3ZlIGEgd2FsayBsaW5lIGZyb20gdGhlIHRhYmxlXG5cdCRzY29wZS5yZW1vdmVXYWxrID0gZnVuY3Rpb24oaW5kZXgpIHtcblx0XHRcblx0XHQvL1NldCBlZGl0IGZsYWcgc28gdGhhdCBzY3JlZW4gY2FuIGNoYW5nZSBoaWdobGlnaHQgc3RhdHVzXG5cdFx0d2Fsa3NBcmVFZGl0ZWQgPSB0cnVlO1xuXHRcdFxuXHQgICAgY29uc29sZS5sb2coJ0dvaW5nIHRvIHJlbW92ZSB3YWxrIGZyb20gbGlzdCBhdCBwb3NpdGlvbjogJyArIGluZGV4KTtcblx0XHRcblx0XHQkc2NvcGUuZG9nLndhbGtzLndhbGtBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFxuXHQgIH07XG5cdCAgXG5cdCAgXG5cdC8vVE8gRE8gLSBuZWVkIGEgd2F5IHRvIGRldGVybWluZSBpZiBhbnkgb2YgdGhlIHdhbGsgc3RhdGUgaGFzIGNoYW5nZWQsIGFuZCByZXR1cm4gdHJ1ZSBvbmx5IGlmIGl0IGhhcy5cblx0Ly9JLmUuIGlmIHRoZSBkYXRlIGhhcyBiZWVuIGVkaXRlZCwgYnV0IG5vIG5ldyBvciByZW1vdmVkIHdhbGtzLCB0aGVuIHRoaXMgc2hvdWxkIHJldHVybiB0cnVlLlxuXHQkc2NvcGUuaGFzVXBkYXRlZFdhbGsgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgcmV0dXJuIHdhbGtzQXJlRWRpdGVkOyAgXG5cdCAgICB9O1xuXHQgICAgXG5cdCAgICBcblx0JHNjb3BlLmdldFJvd0NvbG91ciA9IGZ1bmN0aW9uKCkge1xuXHQgICAgICAgICBpZih3YWxrc0FyZUVkaXRlZCA9PSB0cnVlKXtcblx0ICAgICAgICBcdCByZXR1cm4geydiYWNrZ3JvdW5kLWNvbG9yJzogXCJwaW5rXCJ9O1xuXHQgICAgICAgICB9IGVsc2Uge1xuXHQgICAgICAgIFx0IHJldHVybiB7Y29sb3I6IFwiYmx1ZVwifTtcblx0ICAgICAgICAgfVxuXHQgICAgfTtcblx0ICAgIFxuXHQgICAgXG5cdCRzY29wZS5zYXZlV2Fsa3MgPSBmdW5jdGlvbigpIHtcblx0ICAgICAgICAgXG5cdFx0XHRjb25zb2xlLmxvZygnTmVlZCB0byBzYXZlIHRoZSB3YWxrcyBmb3IgZG9nOiAnICsgJHNjb3BlLmRvZy5kb2dOYW1lKTtcblx0XHRcdFxuXHRcdFx0RG9nc1VwZGF0ZVN2Yy51cGRhdGUoJHNjb3BlLmRvZykuc3VjY2VzcyhmdW5jdGlvbiAoZG9nKSB7XG5cdFx0XHRcdCAgJHNjb3BlLmRvZyA9IGRvZ1xuXHRcdFx0XHR9KS5zdWNjZXNzKGZ1bmN0aW9uIChkb2cpe1xuXHRcdFx0XHRcdC8vQWdhaW4sIHRoZSB0cmljayB0byByZWRpcmVjdCBmcm9tIGEgYnV0dG9uIGNsaWNrLCBiYWNrIHRvIHRoZSBsaXN0IHBhZ2UuICBBbHNvXG5cdFx0XHRcdFx0Ly9OZWVkZWQgdG8gYWRkIHRoZSAkd2luZG93IHBhcmFtZXRlciB0byB0aGUgY29udHJvbGxlciBmdW5jdGlvbiBhYm92ZVxuXHRcdFx0XHRcdC8vVE9ETyAtIG1ha2UgaXQgcmVsb2FkIHRoZSBzYW1lIGVkaXQgcGFnZSB3aXRoIHRoZSB1cGRhdGVkIGRldGFpbHMsIGRvbid0IHdhbnQgdG8gbmF2aWdhdGUgYXdheVxuXHRcdFx0XHRcdCR3aW5kb3cubG9jYXRpb24uaHJlZj0nLyMvJyBcblx0XHRcdFx0fSlcblx0ICAgIH07ICBcbn0pXG4gXG4vL0NvbnRyb2xsZXIgdG8gZGVsZXRlIHRoZSBzZWxlY3RlZCBkb2cgZnJvbSB0aGUgZGF0YWJhc2VcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKS5jb250cm9sbGVyKCdEZWxldGVDdHJsJywgZnVuY3Rpb24gKCRsb2NhdGlvbiwgJHNjb3BlLCBEb2dzRGVsZXRlU3ZjKSB7XG4gXG5cdC8vR2V0IHRoZSBkb2cgSUQgZnJvbSB0aGUgcXVlcnkgc3RyaW5nXG5cdHZhciBzZWFyY2hPYmplY3QgPSAkbG9jYXRpb24uc2VhcmNoKCk7XG5cdFxuXHQvL1JlbW92ZSB0aGUgZG9nIGZyb20gdGhlIGRhdGFiYXNlXG5cdERvZ3NEZWxldGVTdmMuZGVsZXRlKHNlYXJjaE9iamVjdC5kb2dJZCkuc3VjY2VzcyhmdW5jdGlvbiAoZG9nKSB7XG5cdFx0ICAkc2NvcGUuZG9nID0gZG9nXG5cdFx0fSlcblx0XG59KVxuXG5cbiIsIi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vQW5ndWxhciBTZXJ2aWNlcyBmaWxlLiAgXG4vL0NhbGxlZCBieSBkb2cuY3RybC5qcyBmaWxlXG4vL0NhbGxzIHRvIEhUVFAgc2VydmljZSBpbiBkb2dzLmpzIChJLkUgYSBSRVNURnVsIEhUVFAgY2FsbCB0byBOb2RlKVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4vL0dldCB0aGUgbGlzdCBvZiBkb2dzIHRvIHNob3cgb24gdGhlIHNjcmVlblxuXG5hbmd1bGFyLm1vZHVsZSgnYXBwJykuc2VydmljZSgnRG9nc1N2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xuICB0aGlzLmZldGNoID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvZG9ncycpXG4gIH1cbn0pXG5cblxuXG4vL1NhdmUgYSBuZXcgZG9nIHRvIHRoZSBIVFRQIHBvc3Qgc2VydmljZVxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpLnNlcnZpY2UoJ0RvZ0NyZWF0aW9uU3ZjJywgZnVuY3Rpb24gKCRodHRwKSB7XG5cdFxuICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uIChkb2cpIHtcbiAgICByZXR1cm4gJGh0dHAucG9zdCgnL2FwaS9kb2cnLCBkb2cpXG4gICAgfSBcbn0pXG5cblxuLy9HZXQgYSBzaW5nbGUgZG9nIGZyb20gdGhlIHN0b3JlIGJ5IG5hbWVcbmFuZ3VsYXIubW9kdWxlKCdhcHAnKS5zZXJ2aWNlKCdEb2dzR2V0T25lU3ZjJywgZnVuY3Rpb24gKCRodHRwKSB7XG4gIHRoaXMuZmV0Y2ggPSBmdW5jdGlvbiAoZG9nTmFtZSkge1xuXHQgIFxuXHRjb25zb2xlLmxvZygnSW5zaWRlIHRoZSBhbmd1bGFyIHNlcnZpY2UgbGF5ZXIuICBIYXZlIGJlZW4gYXNrZWQgdG8gZ2V0IGRvZzogJyArIGRvZ05hbWUpOyBcblx0IFxuXHRyZXR1cm4gJGh0dHAoe1xuXHRcdHVybDogJy9hcGkvZG9nJywgXG5cdFx0bWV0aG9kOiBcIkdFVFwiLFxuXHRcdHBhcmFtczp7ZG9nTmFtZVBhcmFtOmRvZ05hbWV9XG5cdH0pXG4gIH1cbn0pXG5cblxuLy9EZWxldGUgYSBzaW5nbGUgZG9nIGZyb20gdGhlIHN0b3JlIGJ5IElEXG5hbmd1bGFyLm1vZHVsZSgnYXBwJykuc2VydmljZSgnRG9nc0RlbGV0ZVN2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xuIFxuXHR0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uIChkb2dJZCkge1xuXHQgIFxuXHRjb25zb2xlLmxvZygnSW5zaWRlIHRoZSBhbmd1bGFyIHNlcnZpY2UgbGF5ZXIuICBIYXZlIGJlZW4gYXNrZWQgdG8gZGVsZXRlIGRvZzogJyArIGRvZ0lkKTsgXG5cdCBcblx0cmV0dXJuICRodHRwKHtcblx0XHR1cmw6ICcvYXBpL2RvZycsIFxuXHRcdG1ldGhvZDogXCJERUxFVEVcIixcblx0XHRwYXJhbXM6e2RvZ0lkUGFyYW06ZG9nSWR9XG5cdH0pXG5cdFxuICB9XG59KVxuXG5cbi8vVXBkYXRlIGEgZG9nIGFscmVhZHkgaW4gdGhlIGRhdGFiYXNlXG5hbmd1bGFyLm1vZHVsZSgnYXBwJykuc2VydmljZSgnRG9nc1VwZGF0ZVN2YycsIGZ1bmN0aW9uICgkaHR0cCkge1xuIFxuXHRcbiAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoZG9nKSB7XG5cdCAgXG5cdFx0Y29uc29sZS5sb2coJ0luc2lkZSB0aGUgYW5ndWxhciBzZXJ2aWNlIGxheWVyLiAgSGF2ZSBiZWVuIGFza2VkIHRvIHNhdmUgZG9nOiAnICsgZG9nLmRvZ05hbWUpOyBcblx0XHQgXG5cdFx0Ly9UcmljayBoZXJlIHdhcyB0byBwYXNzIHRoZSBkb2cgYWNyb3NzIHVzaW5nIHRoZSBcImRhdGFcIiB0YWdcblx0XHRyZXR1cm4gJGh0dHAoe1xuXHRcdFx0dXJsOiAnL2FwaS9kb2cvJytkb2cuX2lkLCBcblx0XHRcdG1ldGhvZDogXCJQVVRcIixcblx0XHRcdGRhdGE6ZG9nXG5cdFx0fSlcblx0ICB9XG5cdCBcblxufSkiLCIvLy8vLy8vLy8vLy8vL1xuLy8gRGV0ZXJtaW5lcyB3aGljaCBIVE1MIHRvIGxvYWQgZGVwZW5kaW5nIG9uIHdoaWNoIG5hdmlnYXRpb24gbGluayB0aGUgdXNlciBoYXMgY2xpY2tlZFxuLy8gTGlua3MgdGhlIEhUTUwgcGFnZSB0byB0aGUgQW5ndWxhciBjb250cm9sbGVyXG5cblxuYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29uZmlnKGZ1bmN0aW9uICgkcm91dGVQcm92aWRlcikge1xuICAkcm91dGVQcm92aWRlclxuICAud2hlbignLycsIHsgY29udHJvbGxlcjogJ0RvZ3NDdHJsJywgdGVtcGxhdGVVcmw6ICdkb2dMaXN0Lmh0bWwnIH0pXG4gIC53aGVuKCcvY3JlYXRlRG9nJywgeyBjb250cm9sbGVyOiAnQ3JlYXRlQ3RybCcsIHRlbXBsYXRlVXJsOiAnZG9nQ3JlYXRpb24uaHRtbCcgfSlcbiAgLndoZW4oJy9lZGl0RG9nJywgeyBjb250cm9sbGVyOiAnRWRpdEN0cmwnLCB0ZW1wbGF0ZVVybDogJ2RvZ0VkaXQuaHRtbCd9KVxuICAgLndoZW4oJy9kZWxldGVEb2cnLCB7IGNvbnRyb2xsZXI6ICdEZWxldGVDdHJsJywgdGVtcGxhdGVVcmw6ICdkb2dMaXN0Lmh0bWwnfSlcbiAgIC53aGVuKCcvdXBkYXRlRG9nJywgeyBjb250cm9sbGVyOiAnVXBkYXRlQ3RybCcsIHRlbXBsYXRlVXJsOiAnZG9nTGlzdC5odG1sJ30pXG59KVxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=